{"ast":null,"code":"var _jsxFileName = \"/Users/usedcvnt/Documents/IDEProjects/VSCProjects/1st/frontend/src/pages/dashboard/AdminDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useUser } from '../../context/UserContext';\nimport { FaUsersCog, FaBuilding, FaUserShield, FaCalendarCheck, FaSave } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { setVacationLimit } from '../../api/vacations'; // API для установки лимита\nimport { getUsersWithLimits } from '../../api/users'; // API для получения пользователей с лимитами\n// import './AdminDashboard.css'; // Можно добавить стили при необходимости\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminDashboard = () => {\n  _s();\n  const {\n    user\n  } = useUser();\n  const [users, setUsers] = useState([]); // Состояние для списка пользователей (UserWithLimitDTO)\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear() + 1); // Выбранный год\n  const [limits, setLimits] = useState({}); // { userId: limitValue (string) } - Лимиты для инпутов\n  const [loadingUsers, setLoadingUsers] = useState(false); // Флаг загрузки пользователей\n  const [savingLimit, setSavingLimit] = useState({}); // { userId: boolean } - Флаг сохранения лимита для конкретного пользователя\n\n  // Загрузка пользователей с лимитами при монтировании и при смене года\n  useEffect(() => {\n    const fetchUsersAndLimits = async () => {\n      setLoadingUsers(true);\n      setUsers([]); // Очищаем список перед загрузкой\n      setLimits({}); // Очищаем лимиты\n      try {\n        const fetchedUsersWithLimits = await getUsersWithLimits(selectedYear);\n        setUsers(fetchedUsersWithLimits);\n\n        // Инициализируем состояние limits на основе полученных данных\n        const initialLimits = {};\n        fetchedUsersWithLimits.forEach(u => {\n          // Если лимит есть (не null), устанавливаем его как строку, иначе пустая строка\n          // Используем u.vacation_limit_days, как определено в DTO на бэкенде\n          initialLimits[u.id] = u.vacation_limit_days !== null ? String(u.vacation_limit_days) : '';\n        });\n        setLimits(initialLimits);\n      } catch (error) {\n        toast.error(`Ошибка загрузки пользователей: ${error.message}`);\n        console.error(\"Ошибка загрузки пользователей:\", error);\n      } finally {\n        setLoadingUsers(false);\n      }\n    };\n    fetchUsersAndLimits();\n  }, [selectedYear]); // Добавляем selectedYear в зависимости для перезагрузки при смене года\n\n  // Обработчик изменения значения лимита в input\n  const handleLimitChange = (userId, value) => {\n    setLimits(prevLimits => ({\n      ...prevLimits,\n      [userId]: value // Сохраняем как строку, преобразуем при сохранении\n    }));\n  };\n\n  // Обработчик сохранения лимита для пользователя\n  const handleSaveLimit = async userId => {\n    const limitValue = limits[userId]; // Берем значение из состояния limits\n    if (limitValue === undefined || limitValue === null || limitValue === '') {\n      toast.warn('Введите значение лимита.');\n      return;\n    }\n    const totalDays = parseInt(limitValue, 10);\n    if (isNaN(totalDays) || totalDays < 0) {\n      toast.error('Лимит должен быть неотрицательным числом.');\n      return;\n    }\n    setSavingLimit(prev => ({\n      ...prev,\n      [userId]: true\n    }));\n    try {\n      var _users$find;\n      // Вызываем API для установки лимита\n      await setVacationLimit(userId, selectedYear, totalDays);\n      toast.success(`Лимит для пользователя ${((_users$find = users.find(u => u.id === userId)) === null || _users$find === void 0 ? void 0 : _users$find.fullName) || userId} на ${selectedYear} год успешно установлен.`);\n      // Обновляем состояние limits локально после успешного сохранения (не обязательно, т.к. данные перезагрузятся при смене года)\n      // Но можно сделать для мгновенного отображения, если нужно\n      // setLimits(prev => ({ ...prev, [userId]: String(totalDays) }));\n    } catch (error) {\n      toast.error(`Ошибка установки лимита: ${error.message}`);\n      console.error(\"Ошибка установки лимита:\", error);\n    } finally {\n      setSavingLimit(prev => ({\n        ...prev,\n        [userId]: false\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"admin-dashboard card\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [/*#__PURE__*/_jsxDEV(FaUserShield, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), \" \\u041F\\u0430\\u043D\\u0435\\u043B\\u044C \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u0430\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C, \", (user === null || user === void 0 ? void 0 : user.fullName) || 'Администратор', \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u0417\\u0434\\u0435\\u0441\\u044C \\u0432\\u044B \\u043C\\u043E\\u0436\\u0435\\u0442\\u0435 \\u0443\\u043F\\u0440\\u0430\\u0432\\u043B\\u044F\\u0442\\u044C \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438, \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F\\u043C\\u0438 \\u0438 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430\\u043C\\u0438 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u044B.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-actions\",\n      style: {\n        marginTop: '30px',\n        display: 'grid',\n        gap: '15px',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))'\n      },\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"action-card card\",\n        whileHover: {\n          scale: 1.03\n        },\n        children: [/*#__PURE__*/_jsxDEV(FaUsersCog, {\n          size: 30,\n          style: {\n            marginBottom: '10px',\n            color: 'var(--accent-color)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435, \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0438 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          disabled: true,\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 (\\u0432 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0435)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n        className: \"action-card card\",\n        whileHover: {\n          scale: 1.03\n        },\n        children: [/*#__PURE__*/_jsxDEV(FaBuilding, {\n          size: 30,\n          style: {\n            marginBottom: '10px',\n            color: 'var(--success-color)'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u044F\\u043C\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0438 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0430 \\u0441\\u0442\\u0440\\u0443\\u043A\\u0442\\u0443\\u0440\\u044B \\u043F\\u043E\\u0434\\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u0435\\u043D\\u0438\\u0439.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          disabled: true,\n          children: \"\\u041F\\u0435\\u0440\\u0435\\u0439\\u0442\\u0438 (\\u0432 \\u0440\\u0430\\u0437\\u0440\\u0430\\u0431\\u043E\\u0442\\u043A\\u0435)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 10\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"vacation-limit-management card\",\n      style: {\n        marginTop: '30px'\n      },\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        delay: 0.3\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [/*#__PURE__*/_jsxDEV(FaCalendarCheck, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), \" \\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043B\\u0438\\u043C\\u0438\\u0442\\u0430\\u043C\\u0438 \\u043E\\u0442\\u043F\\u0443\\u0441\\u043A\\u043E\\u0432\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"year-selector\",\n        style: {\n          marginBottom: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"limit-year\",\n          children: \"\\u0413\\u043E\\u0434:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"limit-year\",\n          value: selectedYear,\n          onChange: e => setSelectedYear(parseInt(e.target.value)),\n          style: {\n            marginLeft: '10px'\n          },\n          disabled: loadingUsers // Блокируем выбор года во время загрузки\n          ,\n          children: [[...Array(5)].map((_, i) => {\n            const yearOption = new Date().getFullYear() - 2 + i;\n            return /*#__PURE__*/_jsxDEV(\"option\", {\n              value: yearOption,\n              children: yearOption\n            }, yearOption, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 22\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: new Date().getFullYear() + 1,\n            children: [\"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0449\\u0438\\u0439 \\u0433\\u043E\\u0434 (\", new Date().getFullYear() + 1, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), loadingUsers ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0435\\u0439...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 11\n      }, this) : users.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u0438 \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 12\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"user-limits-table\",\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse',\n            minWidth: '600px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: tableHeaderStyle,\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: tableHeaderStyle,\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: tableHeaderStyle,\n                children: [\"\\u041B\\u0438\\u043C\\u0438\\u0442 \\u0434\\u043D\\u0435\\u0439 (\", selectedYear, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: tableHeaderStyle,\n                children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(u => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: tableCellStyle,\n                children: u.fullName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tableCellStyle,\n                children: u.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tableCellStyle,\n                title: limits[u.id] === '' ? 'Лимит не установлен' : '',\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  min: \"0\",\n                  value: limits[u.id] || '' // Используем значение из состояния limits\n                  ,\n                  onChange: e => handleLimitChange(u.id, e.target.value),\n                  style: {\n                    width: '80px',\n                    padding: '5px'\n                  },\n                  disabled: savingLimit[u.id] // Блокируем во время сохранения\n                  ,\n                  placeholder: \"\\u041D\\u0435\\u0442\" // Показываем плейсхолдер, если лимит не задан\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: tableCellStyle,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary btn-sm\",\n                  onClick: () => handleSaveLimit(u.id),\n                  disabled: savingLimit[u.id] || limits[u.id] === undefined || limits[u.id] === '' || parseInt(limits[u.id]) < 0 // Блокируем, если сохраняется, не введено или отрицательное\n                  ,\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: '5px',\n                    minWidth: '110px'\n                  } // Добавляем minWidth\n                  ,\n                  children: [/*#__PURE__*/_jsxDEV(FaSave, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 25\n                  }, this), \" \", savingLimit[u.id] ? 'Сохранение...' : 'Сохранить']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 21\n              }, this)]\n            }, u.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n\n// Стили для таблицы (можно вынести в CSS)\n_s(AdminDashboard, \"Kfe7Y8ATf0SUBsRFu5vuLX24lTs=\", false, function () {\n  return [useUser];\n});\n_c = AdminDashboard;\nconst tableHeaderStyle = {\n  borderBottom: '2px solid var(--border-color)',\n  padding: '10px 5px',\n  textAlign: 'left',\n  fontWeight: 'bold',\n  whiteSpace: 'nowrap' // Предотвращаем перенос заголовков\n};\nconst tableCellStyle = {\n  borderBottom: '1px solid var(--border-color-light)',\n  padding: '10px 5px',\n  verticalAlign: 'middle'\n};\nexport default AdminDashboard;\nvar _c;\n$RefreshReg$(_c, \"AdminDashboard\");","map":{"version":3,"names":["React","useState","useEffect","motion","useUser","FaUsersCog","FaBuilding","FaUserShield","FaCalendarCheck","FaSave","toast","setVacationLimit","getUsersWithLimits","jsxDEV","_jsxDEV","AdminDashboard","_s","user","users","setUsers","selectedYear","setSelectedYear","Date","getFullYear","limits","setLimits","loadingUsers","setLoadingUsers","savingLimit","setSavingLimit","fetchUsersAndLimits","fetchedUsersWithLimits","initialLimits","forEach","u","id","vacation_limit_days","String","error","message","console","handleLimitChange","userId","value","prevLimits","handleSaveLimit","limitValue","undefined","warn","totalDays","parseInt","isNaN","prev","_users$find","success","find","fullName","div","className","initial","opacity","y","animate","transition","duration","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","display","gap","gridTemplateColumns","whileHover","scale","size","marginBottom","color","disabled","delay","htmlFor","onChange","e","target","marginLeft","Array","map","_","i","yearOption","length","overflowX","width","borderCollapse","minWidth","tableHeaderStyle","tableCellStyle","email","title","type","min","padding","placeholder","onClick","alignItems","_c","borderBottom","textAlign","fontWeight","whiteSpace","verticalAlign","$RefreshReg$"],"sources":["/Users/usedcvnt/Documents/IDEProjects/VSCProjects/1st/frontend/src/pages/dashboard/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { useUser } from '../../context/UserContext';\nimport { FaUsersCog, FaBuilding, FaUserShield, FaCalendarCheck, FaSave } from 'react-icons/fa';\nimport { toast } from 'react-toastify';\nimport { setVacationLimit } from '../../api/vacations'; // API для установки лимита\nimport { getUsersWithLimits } from '../../api/users'; // API для получения пользователей с лимитами\n// import './AdminDashboard.css'; // Можно добавить стили при необходимости\n\nconst AdminDashboard = () => {\n  const { user } = useUser();\n  const [users, setUsers] = useState([]); // Состояние для списка пользователей (UserWithLimitDTO)\n  const [selectedYear, setSelectedYear] = useState(new Date().getFullYear() + 1); // Выбранный год\n  const [limits, setLimits] = useState({}); // { userId: limitValue (string) } - Лимиты для инпутов\n  const [loadingUsers, setLoadingUsers] = useState(false); // Флаг загрузки пользователей\n  const [savingLimit, setSavingLimit] = useState({}); // { userId: boolean } - Флаг сохранения лимита для конкретного пользователя\n\n  // Загрузка пользователей с лимитами при монтировании и при смене года\n  useEffect(() => {\n    const fetchUsersAndLimits = async () => {\n      setLoadingUsers(true);\n      setUsers([]); // Очищаем список перед загрузкой\n      setLimits({}); // Очищаем лимиты\n      try {\n        const fetchedUsersWithLimits = await getUsersWithLimits(selectedYear);\n        setUsers(fetchedUsersWithLimits);\n\n        // Инициализируем состояние limits на основе полученных данных\n        const initialLimits = {};\n        fetchedUsersWithLimits.forEach(u => {\n          // Если лимит есть (не null), устанавливаем его как строку, иначе пустая строка\n          // Используем u.vacation_limit_days, как определено в DTO на бэкенде\n          initialLimits[u.id] = u.vacation_limit_days !== null ? String(u.vacation_limit_days) : '';\n        });\n        setLimits(initialLimits);\n\n      } catch (error) {\n        toast.error(`Ошибка загрузки пользователей: ${error.message}`);\n        console.error(\"Ошибка загрузки пользователей:\", error);\n      } finally {\n        setLoadingUsers(false);\n      }\n    };\n\n    fetchUsersAndLimits();\n  }, [selectedYear]); // Добавляем selectedYear в зависимости для перезагрузки при смене года\n\n  // Обработчик изменения значения лимита в input\n  const handleLimitChange = (userId, value) => {\n    setLimits(prevLimits => ({\n      ...prevLimits,\n      [userId]: value // Сохраняем как строку, преобразуем при сохранении\n    }));\n  };\n\n  // Обработчик сохранения лимита для пользователя\n  const handleSaveLimit = async (userId) => {\n    const limitValue = limits[userId]; // Берем значение из состояния limits\n    if (limitValue === undefined || limitValue === null || limitValue === '') {\n      toast.warn('Введите значение лимита.');\n      return;\n    }\n\n    const totalDays = parseInt(limitValue, 10);\n    if (isNaN(totalDays) || totalDays < 0) {\n      toast.error('Лимит должен быть неотрицательным числом.');\n      return;\n    }\n\n    setSavingLimit(prev => ({ ...prev, [userId]: true }));\n    try {\n      // Вызываем API для установки лимита\n      await setVacationLimit(userId, selectedYear, totalDays);\n      toast.success(`Лимит для пользователя ${users.find(u => u.id === userId)?.fullName || userId} на ${selectedYear} год успешно установлен.`);\n      // Обновляем состояние limits локально после успешного сохранения (не обязательно, т.к. данные перезагрузятся при смене года)\n      // Но можно сделать для мгновенного отображения, если нужно\n      // setLimits(prev => ({ ...prev, [userId]: String(totalDays) }));\n    } catch (error) {\n      toast.error(`Ошибка установки лимита: ${error.message}`);\n      console.error(\"Ошибка установки лимита:\", error);\n    } finally {\n      setSavingLimit(prev => ({ ...prev, [userId]: false }));\n    }\n  };\n\n  return (\n    <motion.div\n      className=\"admin-dashboard card\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <h2><FaUserShield /> Панель администратора</h2>\n      <p>Добро пожаловать, {user?.fullName || 'Администратор'}!</p>\n      <p>Здесь вы можете управлять пользователями, подразделениями и настройками системы.</p>\n\n      {/* Раздел управления (примеры) */}\n      <div className=\"admin-actions\" style={{ marginTop: '30px', display: 'grid', gap: '15px', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))' }}>\n         <motion.div className=\"action-card card\" whileHover={{ scale: 1.03 }}>\n           <FaUsersCog size={30} style={{ marginBottom: '10px', color: 'var(--accent-color)' }} />\n           <h3>Управление пользователями</h3>\n           <p>Добавление, редактирование и удаление пользователей.</p>\n           <button className=\"btn btn-secondary\" disabled>Перейти (в разработке)</button>\n         </motion.div>\n\n         <motion.div className=\"action-card card\" whileHover={{ scale: 1.03 }}>\n           <FaBuilding size={30} style={{ marginBottom: '10px', color: 'var(--success-color)' }} />\n           <h3>Управление подразделениями</h3>\n           <p>Создание и настройка структуры подразделений.</p>\n            <button className=\"btn btn-secondary\" disabled>Перейти (в разработке)</button>\n         </motion.div>\n      </div>\n\n      {/* Раздел управления лимитами отпусков */}\n      <motion.div\n        className=\"vacation-limit-management card\"\n        style={{ marginTop: '30px' }}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        transition={{ delay: 0.3 }}\n      >\n        <h3><FaCalendarCheck /> Управление лимитами отпусков</h3>\n\n        <div className=\"year-selector\" style={{ marginBottom: '20px' }}>\n          <label htmlFor=\"limit-year\">Год:</label>\n          <select\n            id=\"limit-year\"\n            value={selectedYear}\n            onChange={(e) => setSelectedYear(parseInt(e.target.value))}\n            style={{ marginLeft: '10px' }}\n            disabled={loadingUsers} // Блокируем выбор года во время загрузки\n          >\n            {/* Генерируем несколько лет вокруг текущего */}\n            {[...Array(5)].map((_, i) => {\n              const yearOption = new Date().getFullYear() - 2 + i;\n              return <option key={yearOption} value={yearOption}>{yearOption}</option>;\n            })}\n            <option value={new Date().getFullYear() + 1}>Следующий год ({new Date().getFullYear() + 1})</option>\n          </select>\n        </div>\n\n        {loadingUsers ? (\n          <p>Загрузка пользователей...</p>\n        ) : users.length === 0 ? (\n           <p>Пользователи не найдены.</p>\n        ) : (\n          <div style={{ overflowX: 'auto' }}> {/* Добавляем обертку для скролла на маленьких экранах */}\n            <table className=\"user-limits-table\" style={{ width: '100%', borderCollapse: 'collapse', minWidth: '600px' }}>\n              <thead>\n                <tr>\n                  <th style={tableHeaderStyle}>Пользователь</th>\n                  <th style={tableHeaderStyle}>Email</th>\n                  <th style={tableHeaderStyle}>Лимит дней ({selectedYear})</th>\n                  <th style={tableHeaderStyle}>Действие</th>\n                </tr>\n              </thead>\n              <tbody>\n                {users.map((u) => (\n                  <tr key={u.id}>\n                    <td style={tableCellStyle}>{u.fullName}</td>\n                    <td style={tableCellStyle}>{u.email}</td>\n                    <td style={tableCellStyle} title={limits[u.id] === '' ? 'Лимит не установлен' : ''}>\n                      <input\n                        type=\"number\"\n                        min=\"0\"\n                        value={limits[u.id] || ''} // Используем значение из состояния limits\n                        onChange={(e) => handleLimitChange(u.id, e.target.value)}\n                        style={{ width: '80px', padding: '5px' }}\n                        disabled={savingLimit[u.id]} // Блокируем во время сохранения\n                        placeholder=\"Нет\" // Показываем плейсхолдер, если лимит не задан\n                      />\n                    </td>\n                    <td style={tableCellStyle}>\n                      <button\n                        className=\"btn btn-primary btn-sm\"\n                        onClick={() => handleSaveLimit(u.id)}\n                        disabled={savingLimit[u.id] || limits[u.id] === undefined || limits[u.id] === '' || parseInt(limits[u.id]) < 0} // Блокируем, если сохраняется, не введено или отрицательное\n                        style={{ display: 'flex', alignItems: 'center', gap: '5px', minWidth: '110px' }} // Добавляем minWidth\n                      >\n                        <FaSave /> {savingLimit[u.id] ? 'Сохранение...' : 'Сохранить'}\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n        {/* TODO: Добавить пагинацию или поиск, если пользователей много */}\n        {/* TODO: Добавить возможность массового обновления */}\n      </motion.div>\n\n    </motion.div>\n  );\n};\n\n// Стили для таблицы (можно вынести в CSS)\nconst tableHeaderStyle = {\n  borderBottom: '2px solid var(--border-color)',\n  padding: '10px 5px',\n  textAlign: 'left',\n  fontWeight: 'bold',\n  whiteSpace: 'nowrap', // Предотвращаем перенос заголовков\n};\n\nconst tableCellStyle = {\n  borderBottom: '1px solid var(--border-color-light)',\n  padding: '10px 5px',\n  verticalAlign: 'middle',\n};\n\nexport default AdminDashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}